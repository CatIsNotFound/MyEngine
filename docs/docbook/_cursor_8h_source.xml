<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__cursor_8h_source" xml:lang="en-US">
<title>Cursor.h</title>
<indexterm><primary>D:/Coding/S3GF/src/Utils/Cursor.h</primary></indexterm>
<programlisting linenumbering="unnumbered">1 
2 <emphasis role="preprocessor">#ifndef&#32;S3GF_CURSOR_H</emphasis>
3 <emphasis role="preprocessor">#define&#32;S3GF_CURSOR_H</emphasis>
4 <emphasis role="preprocessor">#include&#32;&quot;Components.h&quot;</emphasis>
5 
6 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_s3_g_f">S3GF</link>&#32;{
14 &#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis>Cursor&#32;{
15 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>:
22 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">enum</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a800fcc8d85908d269af72d416a76001b">StdCursor</link>&#32;{
23 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Default&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x00,
24 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Normal&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x00,
25 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Edit&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x01,
26 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Wait&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x02,
27 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Crosshair&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x03,
28 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Busy&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x04,
29 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_NWSE&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x05,
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_NESW&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x06,
31 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_Horizontal&#32;&#32;&#32;=&#32;0x07,
32 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_EW&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x07,
33 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_Vertical&#32;&#32;&#32;&#32;&#32;=&#32;0x08,
34 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_NS&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x08,
35 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Move&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x09,
36 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Not_Allowed&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0a,
37 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Forbidden&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0a,
38 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Hand&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0b,
39 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Pointer&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0b,
40 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_NW&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0c,
41 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_N&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0d,
42 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_NE&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0e,
43 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_E&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x0f,
44 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_SE&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x10,
45 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_S&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x11,
46 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_SW&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x12,
47 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Resize_W&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x13,
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Count&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x14,
49 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Custom&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;=&#32;0x15
50 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
51 
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis>UserCustom&#32;{
63 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom_1_1_hot_point">HotPoint</link>&#32;{&#32;<emphasis role="keywordtype">int</emphasis>&#32;x,&#32;y;&#32;};
64 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom_1_1_hot_point">HotPoint</link>&#32;hot_point;
65 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::shared_ptr&lt;SDL_Surface&gt;&#32;cursor;
66 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;UserCustom(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom_1_1_hot_point">HotPoint</link>&amp;&#32;hot_point,&#32;SSurface*&#32;cursor)&#32;{
67 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this-&gt;hot_point.x&#32;=&#32;hot_point.x;
68 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this-&gt;hot_point.y&#32;=&#32;hot_point.y;
69 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this-&gt;cursor&#32;=&#32;std::shared_ptr&lt;SSurface&gt;(cursor);
70 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
71 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom">UserCustom</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom">UserCustom</link>&amp;&#32;copy)&#32;{
72 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;hot_point.x&#32;=&#32;copy.hot_point.x;
73 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;hot_point.y&#32;=&#32;copy.hot_point.y;
74 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>&#32;=&#32;copy.cursor;
75 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
76 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;};
77 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">explicit</emphasis>&#32;Cursor(<emphasis role="keyword">const</emphasis>&#32;Cursor&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
78 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">explicit</emphasis>&#32;Cursor(Cursor&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
79 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Cursor&amp;&#32;operator=(<emphasis role="keyword">const</emphasis>&#32;Cursor&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
80 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Cursor&amp;&#32;operator=(Cursor&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
81 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;~Cursor()&#32;{
82 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;unload();
83 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
87 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;Cursor*&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a984a03baa8c281afb7b0829f39e48c46">global</link>()&#32;{
88 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!_instance)&#32;{
89 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_instance&#32;=&#32;std::unique_ptr&lt;Cursor&gt;(<emphasis role="keyword">new</emphasis>&#32;Cursor());
90 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
91 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_instance.get();
92 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
99 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1abb15d202ab9526d82382c26ef2180d82">globalPosition</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&#32;_pos;
101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_GetGlobalMouseState(&amp;_pos.x,&#32;&amp;_pos.y);
102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_pos;
103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a67b6b189ea170bbd1b05ebdc521f8580">position</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&#32;_pos;
112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_GetMouseState(&amp;_pos.x,&#32;&amp;_pos.y);
113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_pos;
114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
119 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;<link linkend="_class_s3_g_f_1_1_cursor_1abcb7c50a91d72cf33403f0210df19909">focusOn</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
120 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;SDL_GetWindowID(SDL_GetMouseFocus());
121 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a012e8f6ce964a0d8f4b78a133a35e4eb">move</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&amp;&#32;pos,&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_window">Window</link>*&#32;window&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>)&#32;{
131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(window)&#32;{
132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseInWindow(window-&gt;self(),&#32;pos.x,&#32;pos.y);
133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseGlobal(pos.x,&#32;pos.y);
135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a6d082a59a168d10605bd1e905f4d9427">move</link>(<emphasis role="keywordtype">float</emphasis>&#32;x,&#32;<emphasis role="keywordtype">float</emphasis>&#32;y,&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_window">Window</link>*&#32;window&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>)&#32;{
147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(window)&#32;{
148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseInWindow(window-&gt;self(),&#32;x,&#32;y);
149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseGlobal(x,&#32;y);
151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1ad5f978895c4a83403d033b4f1ea8f765">moveToCenter</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_window">Window</link>*&#32;window&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>)&#32;{
159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_struct_s3_g_f_1_1_vector2">Vector2</link>&#32;pos;
160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(window)&#32;{
161 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;w,&#32;h;
162 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_GetWindowSize(window-&gt;self(),&#32;&amp;w,&#32;&amp;h);
163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pos.<link linkend="_struct_s3_g_f_1_1_vector2_1abf5e7a6144315c802cc077b16cfc0d0d">reset</link>((<emphasis role="keywordtype">float</emphasis>)w&#32;/&#32;2,&#32;(<emphasis role="keywordtype">float</emphasis>)h&#32;/&#32;2);
164 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseInWindow(window-&gt;self(),&#32;pos.x,&#32;pos.y);
165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_Rect&#32;rect;
167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_GetDisplayBounds(SDL_GetPrimaryDisplay(),&#32;&amp;rect);
168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pos.<link linkend="_struct_s3_g_f_1_1_vector2_1abf5e7a6144315c802cc077b16cfc0d0d">reset</link>((<emphasis role="keywordtype">float</emphasis>)rect.w&#32;/&#32;2,&#32;(<emphasis role="keywordtype">float</emphasis>)rect.h&#32;/&#32;2);
169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_WarpMouseGlobal(pos.x,&#32;pos.y);
170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a10e51d46417c509fc78adcda5b32d7ad">setCursor</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a800fcc8d85908d269af72d416a76001b">StdCursor</link>&amp;&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>)&#32;{
185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(this-&gt;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>()&#32;==&#32;cursor)&#32;<emphasis role="keywordflow">return</emphasis>;
186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_custom_cursor&#32;&amp;&amp;&#32;_user_custom.contains(<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>))&#32;{
187 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;user_cursor&#32;=&#32;_user_custom.at(<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>);
188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(user_cursor.cursor)&#32;{
189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_DestroyCursor(_cursor);
190 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_cursor&#32;=&#32;SDL_CreateColorCursor(user_cursor.cursor.get(),
192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;user_cursor.hot_point.x,&#32;user_cursor.hot_point.y);
193 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_SetCursor(_cursor);
194 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_std_cursor&#32;=&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>;
195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
196 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_std_cursor&#32;=&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>;
198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_DestroyCursor(_cursor);
199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_surface)&#32;{
200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_DestroySurface(_surface);
201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_surface&#32;=&#32;<emphasis role="keyword">nullptr</emphasis>;
202 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_cursor&#32;=&#32;SDL_CreateSystemCursor(SStdCursor(_std_cursor));
204 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_SetCursor(_cursor);
205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a986ccde314863509b3558cf23e4100ff">setCursor</link>(<emphasis role="keyword">const</emphasis>&#32;std::string&#32;&amp;path,&#32;<emphasis role="keywordtype">int</emphasis>&#32;hot_x,&#32;<emphasis role="keywordtype">int</emphasis>&#32;hot_y)&#32;{
216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_Surface&#32;*temp&#32;=&#32;IMG_Load(path.data());
217 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!temp)&#32;{
218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_Log(<emphasis role="stringliteral">&quot;[ERROR]&#32;Can&apos;t&#32;load&#32;image&#32;while&#32;setting&#32;cursor:&#32;%s&quot;</emphasis>,&#32;path.data());
219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_DestroyCursor(_cursor);
222 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_surface)&#32;{
223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_DestroySurface(_surface);
224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
225 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_surface&#32;=&#32;temp;
226 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_std_cursor&#32;=&#32;Custom;
227 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_cursor&#32;=&#32;SDL_CreateColorCursor(_surface,&#32;hot_x,&#32;hot_y);
228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_SetCursor(_cursor);
229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
234 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a44cf4031a3ac05e577d48e9852ded1a3">setUserCustomEnabled</link>(<emphasis role="keywordtype">bool</emphasis>&#32;enabled)&#32;{
235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_custom_cursor&#32;=&#32;enabled;
236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
241 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a3766a5cb1663341f562d72fcbf3a8ff2">userCustomEnabled</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
242 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_custom_cursor;
243 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
252 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a945c58f1e4b91ebcb9210acf8c58dbac">setCustomCursor</link>(<emphasis role="keyword">const</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a800fcc8d85908d269af72d416a76001b">StdCursor</link>&amp;&#32;stdCursor,&#32;<emphasis role="keyword">const</emphasis>&#32;std::string&amp;&#32;path,&#32;<emphasis role="keyword">const</emphasis>&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom_1_1_hot_point">UserCustom::HotPoint</link>&amp;&#32;hot_point)&#32;{
253 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">auto</emphasis>&#32;new_cursor&#32;=&#32;IMG_Load(path.c_str());
254 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!new_cursor)&#32;{
255 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SDL_Log(<emphasis role="stringliteral">&quot;[ERROR]&#32;Can&apos;t&#32;set&#32;custom&#32;cursor,&#32;because&#32;the&#32;current&#32;path&#32;\&quot;%s\&quot;&#32;is&#32;not&#32;valid!&quot;</emphasis>,&#32;path.c_str());
256 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>;
257 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_user_custom.contains(stdCursor))&#32;{
259 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_user_custom.at(stdCursor).cursor)&#32;SDL_DestroySurface(_user_custom.at(stdCursor).cursor.get());
260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_user_custom.at(stdCursor).cursor&#32;=&#32;std::unique_ptr&lt;SDL_Surface&gt;(new_cursor);
261 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_user_custom.at(stdCursor).hot_point&#32;=&#32;hot_point;
262 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_user_custom.emplace(stdCursor,&#32;<link linkend="_struct_s3_g_f_1_1_cursor_1_1_user_custom">UserCustom</link>(hot_point,&#32;new_cursor));
264 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
265 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a800fcc8d85908d269af72d416a76001b">StdCursor</link>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a13f7409d774843b9ade9b20441e40249">cursor</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
271 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_std_cursor;
272 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a8d48c66ffd429e6348c9ec6651117c96">setVisible</link>(<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a380fa8bdbc24a9ef4beedce724ba918d">visible</link>)&#32;{
279 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_visible&#32;=&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a380fa8bdbc24a9ef4beedce724ba918d">visible</link>;
280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
285 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a380fa8bdbc24a9ef4beedce724ba918d">visible</link>()<emphasis role="keyword">&#32;const&#32;</emphasis>{
286 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;_visible;
287 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
288 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;unload()&#32;{
289 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_cursor)&#32;SDL_DestroyCursor(_cursor);
290 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(_surface)&#32;SDL_DestroySurface(_surface);
291 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
292 
293 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>:
294 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">explicit</emphasis>&#32;Cursor()&#32;{
295 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;_cursor&#32;=&#32;SDL_CreateSystemCursor(SDL_SYSTEM_CURSOR_DEFAULT);
296 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
297 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_class_s3_g_f_1_1_cursor_1a800fcc8d85908d269af72d416a76001b">StdCursor</link>&#32;_std_cursor{Default};
298 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SCursor*&#32;_cursor{<emphasis role="keyword">nullptr</emphasis>};
299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SSurface*&#32;_surface{<emphasis role="keyword">nullptr</emphasis>};
300 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;_custom_cursor{<emphasis role="keyword">false</emphasis>};
301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::map&lt;StdCursor,&#32;UserCustom&gt;&#32;_user_custom;
302 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;_visible{<emphasis role="keyword">true</emphasis>};
303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;std::unique_ptr&lt;Cursor&gt;&#32;_instance;
304 &#32;&#32;&#32;&#32;};
305 
306 &#32;&#32;&#32;&#32;std::unique_ptr&lt;Cursor&gt;&#32;Cursor::_instance{<emphasis role="keyword">nullptr</emphasis>};
307 }
308 
309 
310 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//S3GF_CURSOR_H</emphasis>
</programlisting></section>
