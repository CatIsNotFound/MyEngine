<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__multi_thread_2_components_8h_source" xml:lang="en-US">
<title>Components.h</title>
<indexterm><primary>D:/Coding/S3GF/src/MultiThread/Components.h</primary></indexterm>
<programlisting linenumbering="unnumbered">1 <emphasis role="preprocessor">#pragma&#32;once</emphasis>
2 <emphasis role="preprocessor">#ifndef&#32;S3GF_COMPONENTS_H</emphasis>
3 <emphasis role="preprocessor">#define&#32;S3GF_COMPONENTS_H</emphasis>
4 <emphasis role="preprocessor">#include&#32;&quot;Libs.h&quot;</emphasis>
5 <emphasis role="keyword">namespace&#32;</emphasis><link linkend="_namespace_s3_g_f">S3GF</link>&#32;{
6 &#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis>Timer&#32;{
7 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>:
8 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Timer()&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
9 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Timer(Timer&#32;&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
10 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Timer(<emphasis role="keyword">const</emphasis>&#32;Timer&#32;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
11 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Timer&#32;&amp;operator=(Timer&#32;&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
12 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Timer&#32;&amp;operator=(<emphasis role="keyword">const</emphasis>&#32;Timer&#32;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
13 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;~Timer();
14 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">explicit</emphasis>&#32;Timer(uint64_t&#32;delay,&#32;<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">void</emphasis>()&gt;&amp;&#32;event);
15 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;setDelay(uint64_t&#32;delay);
16 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;start(uint32_t&#32;count&#32;=&#32;1);
17 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;stop();
18 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;enabled()&#32;<emphasis role="keyword">const</emphasis>;
19 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;delay()&#32;<emphasis role="keyword">const</emphasis>;
20 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;setEvent(<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">void</emphasis>()&gt;&amp;&#32;event);
21 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;isFinished()&#32;<emphasis role="keyword">const</emphasis>;
22 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;triggeredCount()&#32;<emphasis role="keyword">const</emphasis>;
23 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>:
24 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;running();
25 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;_delay;
26 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::atomic&lt;bool&gt;&#32;_enabled;
27 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::function&lt;void()&gt;&#32;_function;
28 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::thread&#32;_thread;
29 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::mutex&#32;_lock;
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;_run_count{0};
31 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;_finish_count{0};
32 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;_start_time{0};
33 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;_current_time{0};
34 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;_timer_id{0};
35 &#32;&#32;&#32;&#32;};
36 
37 &#32;&#32;&#32;&#32;<emphasis role="keyword">class&#32;</emphasis>Trigger&#32;{
38 &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>:
39 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Trigger()&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
40 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Trigger(Trigger&#32;&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
41 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Trigger(<emphasis role="keyword">const</emphasis>&#32;Trigger&#32;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
42 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Trigger&#32;&amp;operator=(Trigger&#32;&amp;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
43 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Trigger&#32;&amp;operator=(<emphasis role="keyword">const</emphasis>&#32;Trigger&#32;&amp;)&#32;=&#32;<emphasis role="keyword">delete</emphasis>;
44 
45 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">explicit</emphasis>&#32;Trigger(<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">bool</emphasis>()&gt;&amp;&#32;condition,&#32;<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">void</emphasis>()&gt;&amp;&#32;event);
46 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;~Trigger();
47 
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;setCondition(<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">bool</emphasis>()&gt;&amp;&#32;condition);
49 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;setEvent(<emphasis role="keyword">const</emphasis>&#32;std::function&lt;<emphasis role="keywordtype">void</emphasis>()&gt;&amp;&#32;event);
50 
51 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;start(uint32_t&#32;count&#32;=&#32;1);
52 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;stop();
53 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;enabled()&#32;<emphasis role="keyword">const</emphasis>;
54 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">bool</emphasis>&#32;isTriggered()&#32;<emphasis role="keyword">const</emphasis>;
55 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;triggeredCount()&#32;<emphasis role="keyword">const</emphasis>;
56 &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>:
57 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">void</emphasis>&#32;running();
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::atomic&lt;bool&gt;&#32;_enabled;
59 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::function&lt;bool()&gt;&#32;_condition_function;
60 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::function&lt;void()&gt;&#32;_function;
61 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::thread&#32;_thread;
62 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;std::mutex&#32;_mutex;
63 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;_run_count{0};
64 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint32_t&#32;_finish_count{0};
65 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;uint64_t&#32;_trigger_id{0};
66 &#32;&#32;&#32;&#32;};
67 }
68 
69 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//S3GF_COMPONENTS_H</emphasis>
</programlisting></section>
